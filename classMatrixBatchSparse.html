<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gyselalib++: MatrixBatchSparse&lt; ExecSpace &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gyselalib++
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classMatrixBatchSparse.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classMatrixBatchSparse-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MatrixBatchSparse&lt; ExecSpace &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="classMatrix.html">Matrix</a> class which is able to manage and solve a batch of sparse linear systems.  
 <a href="classMatrixBatchSparse.html#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for MatrixBatchSparse&lt; ExecSpace &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classMatrixBatchSparse.png" usemap="#MatrixBatchSparse_3C_20ExecSpace_20_3E_map" alt=""/>
  <map id="MatrixBatchSparse_3C_20ExecSpace_20_3E_map" name="MatrixBatchSparse_3C_20ExecSpace_20_3E_map">
<area href="classMatrixBatch.html" title="MatrixBatch superclass for managing a collection of linear systems." alt="MatrixBatch&lt; ExecSpace &gt;" shape="rect" coords="0,0,207,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a2bb1f04b6f85e077cd0fc3a3c645573c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#a2bb1f04b6f85e077cd0fc3a3c645573c">MatrixBatchSparse</a> (const int batch_size, const int mat_size, const int non_zeros_per_row, std::optional&lt; int &gt; max_iter=std::nullopt, std::optional&lt; double &gt; res_tol=std::nullopt, std::optional&lt; bool &gt; logger=std::nullopt)</td></tr>
<tr class="memdesc:a2bb1f04b6f85e077cd0fc3a3c645573c"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor for <a class="el" href="classMatrixBatchSparse.html" title="Matrix class which is able to manage and solve a batch of sparse linear systems.">MatrixBatchSparse</a> class.  <a href="classMatrixBatchSparse.html#a2bb1f04b6f85e077cd0fc3a3c645573c">More...</a><br /></td></tr>
<tr class="separator:a2bb1f04b6f85e077cd0fc3a3c645573c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a020d8218c95e32f833e3071275a2f5b9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#a020d8218c95e32f833e3071275a2f5b9">MatrixBatchSparse</a> (Kokkos::View&lt; int **, Kokkos::LayoutLeft, ExecSpace &gt; cols_idx, Kokkos::View&lt; double ***, Kokkos::LayoutStride, ExecSpace &gt; batch_values, std::optional&lt; int &gt; max_iter=std::nullopt, std::optional&lt; double &gt; res_tol=std::nullopt, std::optional&lt; bool &gt; logger=std::nullopt)</td></tr>
<tr class="memdesc:a020d8218c95e32f833e3071275a2f5b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for <a class="el" href="classMatrixBatchSparse.html" title="Matrix class which is able to manage and solve a batch of sparse linear systems.">MatrixBatchSparse</a> class.  <a href="classMatrixBatchSparse.html#a020d8218c95e32f833e3071275a2f5b9">More...</a><br /></td></tr>
<tr class="separator:a020d8218c95e32f833e3071275a2f5b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5c2bd7d002d531790dccdf7fa22a866"><td class="memItemLeft" align="right" valign="top">std::pair&lt; Kokkos::View&lt; int **, Kokkos::LayoutLeft, ExecSpace &gt;, Kokkos::View&lt; double ***, Kokkos::LayoutStride, ExecSpace &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#ad5c2bd7d002d531790dccdf7fa22a866">get_batch_idx_and_vals</a> ()</td></tr>
<tr class="memdesc:ad5c2bd7d002d531790dccdf7fa22a866"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function to get information about values and indices for the whole batch.  <a href="classMatrixBatchSparse.html#ad5c2bd7d002d531790dccdf7fa22a866">More...</a><br /></td></tr>
<tr class="separator:ad5c2bd7d002d531790dccdf7fa22a866"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeaa55e82e11d5a72af49af0c9a48366"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#aaeaa55e82e11d5a72af49af0c9a48366">get_ell_element</a> (int batch_idx, int line_idx, int non_zero_col_idx) const</td></tr>
<tr class="memdesc:aaeaa55e82e11d5a72af49af0c9a48366"><td class="mdescLeft">&#160;</td><td class="mdescRight">A getter function for a value located at a specified place.  <a href="classMatrixBatchSparse.html#aaeaa55e82e11d5a72af49af0c9a48366">More...</a><br /></td></tr>
<tr class="separator:aaeaa55e82e11d5a72af49af0c9a48366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd2ae1272be9632df8358215174a5ea8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#abd2ae1272be9632df8358215174a5ea8">set_ell_element</a> (int batch_idx, int line_idx, int non_zero_col_idx, double aij)</td></tr>
<tr class="memdesc:abd2ae1272be9632df8358215174a5ea8"><td class="mdescLeft">&#160;</td><td class="mdescRight">A setter function to modify a value located at a specified place.  <a href="classMatrixBatchSparse.html#abd2ae1272be9632df8358215174a5ea8">More...</a><br /></td></tr>
<tr class="separator:abd2ae1272be9632df8358215174a5ea8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae10bd2d9b30b531f3fcd50bd0f70f0d6"><td class="memItemLeft" align="right" valign="top"><a id="ae10bd2d9b30b531f3fcd50bd0f70f0d6"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#ae10bd2d9b30b531f3fcd50bd0f70f0d6">factorize</a> () final</td></tr>
<tr class="memdesc:ae10bd2d9b30b531f3fcd50bd0f70f0d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">function used to build the solver factory. <br /></td></tr>
<tr class="separator:ae10bd2d9b30b531f3fcd50bd0f70f0d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a682f93805030afa98e83e4c4573b0d22"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classMatrixBatch.html#a6475f75dadb9320f4fb6ef6235584a18">DKokkosView2D</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#a682f93805030afa98e83e4c4573b0d22">solve_inplace</a> (<a class="el" href="classMatrixBatch.html#a6475f75dadb9320f4fb6ef6235584a18">DKokkosView2D</a> rhs_view) const final</td></tr>
<tr class="memdesc:a682f93805030afa98e83e4c4573b0d22"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function which solves the collection of linear problems.  <a href="classMatrixBatchSparse.html#a682f93805030afa98e83e4c4573b0d22">More...</a><br /></td></tr>
<tr class="separator:a682f93805030afa98e83e4c4573b0d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f3587cd6d39d60466c98adbe737a3a3"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatchSparse.html#a3f3587cd6d39d60466c98adbe737a3a3">norm</a> (int batch_idx) const</td></tr>
<tr class="memdesc:a3f3587cd6d39d60466c98adbe737a3a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">A function returns the norm of a matrix located at batch_idx.  <a href="classMatrixBatchSparse.html#a3f3587cd6d39d60466c98adbe737a3a3">More...</a><br /></td></tr>
<tr class="separator:a3f3587cd6d39d60466c98adbe737a3a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classMatrixBatch"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classMatrixBatch')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classMatrixBatch.html">MatrixBatch&lt; ExecSpace &gt;</a></td></tr>
<tr class="memitem:aa43133aab812e00cb47c1c36cf45c112 inherit pub_methods_classMatrixBatch"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatch.html#aa43133aab812e00cb47c1c36cf45c112">MatrixBatch</a> (int batch_size, int mat_size)</td></tr>
<tr class="memdesc:aa43133aab812e00cb47c1c36cf45c112 inherit pub_methods_classMatrixBatch"><td class="mdescLeft">&#160;</td><td class="mdescRight">The constructor for <a class="el" href="classMatrixBatch.html" title="MatrixBatch superclass for managing a collection of linear systems.">MatrixBatch</a> class.  <a href="classMatrixBatch.html#aa43133aab812e00cb47c1c36cf45c112">More...</a><br /></td></tr>
<tr class="separator:aa43133aab812e00cb47c1c36cf45c112 inherit pub_methods_classMatrixBatch"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a889b3707cfafa8ec09ce5a25fc95614d inherit pub_methods_classMatrixBatch"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatch.html#a889b3707cfafa8ec09ce5a25fc95614d">get_size</a> () const</td></tr>
<tr class="memdesc:a889b3707cfafa8ec09ce5a25fc95614d inherit pub_methods_classMatrixBatch"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for matrix size.  <a href="classMatrixBatch.html#a889b3707cfafa8ec09ce5a25fc95614d">More...</a><br /></td></tr>
<tr class="separator:a889b3707cfafa8ec09ce5a25fc95614d inherit pub_methods_classMatrixBatch"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6794abdadab47bff32062668682e0fab inherit pub_methods_classMatrixBatch"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatch.html#a6794abdadab47bff32062668682e0fab">get_batch_size</a> () const</td></tr>
<tr class="memdesc:a6794abdadab47bff32062668682e0fab inherit pub_methods_classMatrixBatch"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter function for batch size, ie the number of linear systems to solve.  <a href="classMatrixBatch.html#a6794abdadab47bff32062668682e0fab">More...</a><br /></td></tr>
<tr class="separator:a6794abdadab47bff32062668682e0fab inherit pub_methods_classMatrixBatch"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classMatrixBatch"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classMatrixBatch')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classMatrixBatch.html">MatrixBatch&lt; ExecSpace &gt;</a></td></tr>
<tr class="memitem:a6475f75dadb9320f4fb6ef6235584a18 inherit pub_types_classMatrixBatch"><td class="memItemLeft" align="right" valign="top"><a id="a6475f75dadb9320f4fb6ef6235584a18"></a>
using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classMatrixBatch.html#a6475f75dadb9320f4fb6ef6235584a18">DKokkosView2D</a> = Kokkos::View&lt; double **, Kokkos::LayoutRight, typename ExecSpace::memory_space &gt;</td></tr>
<tr class="memdesc:a6475f75dadb9320f4fb6ef6235584a18 inherit pub_types_classMatrixBatch"><td class="mdescLeft">&#160;</td><td class="mdescRight">Alias for 2D double Kokkos views, LayoutRight is specified. <br /></td></tr>
<tr class="separator:a6475f75dadb9320f4fb6ef6235584a18 inherit pub_types_classMatrixBatch"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class ExecSpace&gt;<br />
class MatrixBatchSparse&lt; ExecSpace &gt;</h3>

<p><a class="el" href="classMatrix.html">Matrix</a> class which is able to manage and solve a batch of sparse linear systems. </p>
<p>Executes on either CPU or GPU. It takes advantage of the sparse structure, and the only batched solver available in Ginkgo : Stabilized Bicg. The sparsity pattern is assumed to be the same for all matrices. ie the non-zero components are located at the same places for all matrices. This class uses the ELL storage format which needs two 1D arrays, one stores values the other column indices. The class returns these arrays (as Kokkos views) with the get_batch_idx_and_vals function, it is then possible to fill them outside the class. Tolerance and maximal number of iterations, which are parameters for the iterative solver, are set in the constructor. It is possibile to get convergence information by activating the logger at constructor call. </p><dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">ExecSpace</td><td>Execution space,needed by Kokkos for allocations and parallelism. The simplest choice is to follow Kokkos, for that: specify Kokkos::DefaultExecutionSpace </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a2bb1f04b6f85e077cd0fc3a3c645573c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bb1f04b6f85e077cd0fc3a3c645573c">&#9670;&nbsp;</a></span>MatrixBatchSparse() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::<a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a> </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>batch_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>mat_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>non_zeros_per_row</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int &gt;&#160;</td>
          <td class="paramname"><em>max_iter</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; double &gt;&#160;</td>
          <td class="paramname"><em>res_tol</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; bool &gt;&#160;</td>
          <td class="paramname"><em>logger</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The constructor for <a class="el" href="classMatrixBatchSparse.html" title="Matrix class which is able to manage and solve a batch of sparse linear systems.">MatrixBatchSparse</a> class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_size</td><td>Number of linear systems to solve. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">mat_size</td><td>Common matrix size for all the systems. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">non_zeros_per_row</td><td>number of non zero components per line. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_iter</td><td>maximal number of iterations for the solver </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">res_tol</td><td>residual tolerance parameter, to ensure convergence. Be careful! the relative residual provided here, will be used as "implicit residual" in ginkgo solver. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">logger</td><td>boolean parameter for saving log informations such residual and interations count. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a020d8218c95e32f833e3071275a2f5b9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a020d8218c95e32f833e3071275a2f5b9">&#9670;&nbsp;</a></span>MatrixBatchSparse() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::<a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a> </td>
          <td>(</td>
          <td class="paramtype">Kokkos::View&lt; int **, Kokkos::LayoutLeft, ExecSpace &gt;&#160;</td>
          <td class="paramname"><em>cols_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Kokkos::View&lt; double ***, Kokkos::LayoutStride, ExecSpace &gt;&#160;</td>
          <td class="paramname"><em>batch_values</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; int &gt;&#160;</td>
          <td class="paramname"><em>max_iter</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; double &gt;&#160;</td>
          <td class="paramname"><em>res_tol</em> = <code>std::nullopt</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::optional&lt; bool &gt;&#160;</td>
          <td class="paramname"><em>logger</em> = <code>std::nullopt</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor for <a class="el" href="classMatrixBatchSparse.html" title="Matrix class which is able to manage and solve a batch of sparse linear systems.">MatrixBatchSparse</a> class. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">cols_idx</td><td>A Kokkos view which stores the column indices of non-zero components. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_values</td><td>A Kokkos view which stores the values of non-zero elements. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max_iter</td><td>maximal number of iterations for the solver, default 500. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">res_tol</td><td>residual tolerance parameter, to ensure convergence. Be careful! The residual provided here, set as relative residual, will be used as "implicit residual" in ginkgo solver. Default value is set to 1e-15. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">logger</td><td>bolean parameter to save logger information. Default value false. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ad5c2bd7d002d531790dccdf7fa22a866"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad5c2bd7d002d531790dccdf7fa22a866">&#9670;&nbsp;</a></span>get_batch_idx_and_vals()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::pair&lt; Kokkos::View&lt;int**, Kokkos::LayoutLeft, ExecSpace&gt;, Kokkos::View&lt;double***, Kokkos::LayoutStride, ExecSpace&gt; &gt; <a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::get_batch_idx_and_vals </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function to get information about values and indices for the whole batch. </p>
<p>Data is managed by two Kokkos Views stored on the host. </p><dl class="section return"><dt>Returns</dt><dd>idx_view Column indices for the non-zero values. </dd>
<dd>
vals_view The non-zero values. </dd></dl>

</div>
</div>
<a id="aaeaa55e82e11d5a72af49af0c9a48366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeaa55e82e11d5a72af49af0c9a48366">&#9670;&nbsp;</a></span>get_ell_element()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::get_ell_element </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>non_zero_col_idx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A getter function for a value located at a specified place. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_idx</td><td>Index in the batch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">line_idx</td><td>Line index inside the matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">non_zero_col_idx</td><td>Non-zero index element in the line. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of the component. </dd></dl>

</div>
</div>
<a id="abd2ae1272be9632df8358215174a5ea8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abd2ae1272be9632df8358215174a5ea8">&#9670;&nbsp;</a></span>set_ell_element()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::set_ell_element </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>line_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>non_zero_col_idx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>aij</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A setter function to modify a value located at a specified place. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_idx</td><td>Index in the batch. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">line_idx</td><td>Line index inside the matrix. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">non_zero_col_idx</td><td>Non-zero index element in the line. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">aij</td><td>New value. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a682f93805030afa98e83e4c4573b0d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a682f93805030afa98e83e4c4573b0d22">&#9670;&nbsp;</a></span>solve_inplace()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classMatrixBatch.html#a6475f75dadb9320f4fb6ef6235584a18">DKokkosView2D</a> <a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::solve_inplace </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classMatrixBatch.html#a6475f75dadb9320f4fb6ef6235584a18">DKokkosView2D</a>&#160;</td>
          <td class="paramname"><em>rhs_view</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">final</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function which solves the collection of linear problems. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">rhs_view</td><td>2d Kokkos view which stores the right hand side, </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The computation result, stored in rhs_view. </dd></dl>

<p>Implements <a class="el" href="classMatrixBatch.html#a5d886a5d1ca27e0f158eacd9e90999b7">MatrixBatch&lt; ExecSpace &gt;</a>.</p>

</div>
</div>
<a id="a3f3587cd6d39d60466c98adbe737a3a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f3587cd6d39d60466c98adbe737a3a3">&#9670;&nbsp;</a></span>norm()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class ExecSpace &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a>&lt; ExecSpace &gt;::norm </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>batch_idx</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A function returns the norm of a matrix located at batch_idx. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">batch_idx</td><td>integer, index of the matrix in the batch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>value of the matrix infinite-norm. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/runner/work/gyselalibxx/gyselalibxx/code_branch/vendor/sll/include/sll/<a class="el" href="matrix__batch__sparse_8hpp_source.html">matrix_batch_sparse.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classMatrixBatchSparse.html">MatrixBatchSparse</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
